{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\nilss\\\\Desktop\\\\Drill Maker\\\\20241211-IHS-Drill-Maker\\\\drill-maker\\\\src\\\\App.js\",\n  _s = $RefreshSig$();\nimport { useRef, useState, useEffect, useCallback } from \"react\";\nimport styled from \"styled-components\";\nimport jsPDF from \"jspdf\";\nimport { useBeforeunload } from \"react-beforeunload\";\nimport Paper from \"./paper.js\";\nimport VariantSwitcher from \"./VariantSwitcher\";\nimport Toolbar from \"./Toolbar\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction App({\n  mode,\n  showForm,\n  showDownloadButtons,\n  showExportImportButtons,\n  formInputClass,\n  buttonClass,\n  onChange,\n  defaultData,\n  defaultLogo,\n  promptBeforeUnload\n}) {\n  _s();\n  const canvasRef = useRef();\n  const importDataRef = useRef();\n  const importLogoRef = useRef();\n  const [initialized, setInitialized] = useState(canvasRef.current);\n  const [activeVariant, setActiveVariant] = useState();\n  const [activeTool, setActiveTool] = useState(mode.toolbars[0][0]);\n  const [activeToolColor, setActiveToolColor] = useState(\"black\");\n  const [canvasJSON, setCanvasJSON] = useState();\n  const [title, setTitle] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n  const [changed, setChanged] = useState(false);\n  const [showEraseButton, setShowEraseButton] = useState(false);\n  const [logo, setLogo] = useState(defaultLogo);\n  const touchDevice = (\"ontouchstart\" in window);\n  const [paper, setPaper] = useState({});\n\n  // Exports title, description, and canvas data as JSON.\n  const exportData = useCallback(() => {\n    return {\n      title: title,\n      description: description,\n      canvas: canvasJSON\n    };\n  }, [title, description, canvasJSON]);\n\n  // Imports title, description, and canvas data from JSON.\n  const importData = useCallback((json, _canvas) => {\n    const imported = JSON.parse(json);\n    const _paper = _canvas || paper;\n    setTitle(imported.title);\n    setDescription(imported.description);\n    if (_paper.importJSON) {\n      _paper.importJSON(JSON.stringify(imported.canvas));\n    }\n  }, []);\n\n  // Find and set active variant.\n  const findAndSetActiveVariant = useCallback((_canvas, _build) => {\n    const _paper = _canvas || paper;\n    const _mode = _build || mode;\n    let variant = _paper.findActiveVariant(_mode.variants);\n    if (variant) {\n      setActiveVariant(variant);\n    }\n  }, []);\n\n  // Downloads PNG.\n  function handleDownloadImage() {\n    let link = document.createElement(\"a\");\n    link.download = (title || \"Drill\") + \".png\";\n    link.href = canvasRef.current.toDataURL(\"image/png\");\n    link.click();\n    setChanged(false);\n  }\n\n  // Downloads PDF. Letter document is 8.5\"x11\", 72ppi (points per inch).\n  // Fonts measured in points. X and Y measured in inches.\n  function handleDownloadPDF() {\n    const paperWidth = 8.5;\n    const paperHeight = 11;\n    const margin = .75;\n    const contentWidth = paperWidth - margin - margin;\n    const ppi = 72;\n    const logoHeight = 1;\n    const titleFontSize = 24;\n    const subheadingFontSize = 16;\n    const descriptionFontSize = 10;\n    const footerFontSize = 10;\n    const underlineHeight = 2 / ppi;\n    let workingY = .5;\n    const doc = new jsPDF({\n      orientation: \"p\",\n      unit: \"in\",\n      format: \"letter\"\n    });\n\n    // Logo.\n    doc.addImage(mode.pdf.logo, paperWidth - margin - logoHeight, workingY, logoHeight, logoHeight);\n    workingY += logoHeight + .25;\n\n    // Title section.\n    if (title) {\n      // Title.\n      doc.setFontSize(titleFontSize);\n      doc.text(doc.splitTextToSize(title, contentWidth), margin, workingY, {\n        baseline: \"top\"\n      });\n      workingY += titleFontSize / ppi + 5 / ppi;\n\n      // Title underline.\n      doc.setLineWidth(underlineHeight);\n      doc.setDrawColor(37, 62, 86);\n      doc.line(margin, workingY, paperWidth - margin, workingY);\n      workingY += underlineHeight + .25;\n    }\n\n    // Canvas image.\n    const imageHeight = contentWidth * mode.ratio;\n    doc.addImage(canvasRef.current, \"PNG\", margin, workingY, contentWidth, imageHeight);\n    workingY += imageHeight + .25;\n\n    // Description section.\n    if (description) {\n      // Subheading.\n      doc.setFontSize(subheadingFontSize);\n      doc.text(\"Description\", margin, workingY, {\n        baseline: \"top\"\n      });\n      workingY += subheadingFontSize / ppi + 5 / ppi;\n\n      // Subheading underline.\n      doc.setLineWidth(underlineHeight);\n      doc.setDrawColor(37, 62, 86);\n      doc.line(margin, workingY, paperWidth - margin, workingY);\n      workingY += underlineHeight + .25;\n\n      // Description.\n      doc.setFontSize(descriptionFontSize);\n      doc.text(doc.splitTextToSize(description, contentWidth), margin, workingY, {\n        baseline: \"top\",\n        lineHeightFactor: 1.4\n      });\n    }\n\n    // Footer.\n    doc.setFontSize(footerFontSize);\n    doc.text(mode.pdf.footer, paperWidth / 2, paperHeight - margin, {\n      baseline: \"bottom\",\n      align: \"center\"\n    });\n    doc.save((title || \"Drill\") + \".pdf\");\n    setChanged(false);\n  }\n\n  // Downloads JSON.\n  function handleExport() {\n    let link = document.createElement(\"a\");\n    link.download = (title || \"Drill\") + \".json\";\n    link.href = \"data:application/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData()));\n    link.click();\n    setChanged(false);\n  }\n\n  // Imports JSON data and empties file input for next import.\n  function handleImportData() {\n    let reader = new FileReader();\n    reader.onload = event => importData(event.target.result);\n    reader.readAsText(importDataRef.current.files[0]);\n    importDataRef.current.value = null;\n  }\n\n  // Imports logo image and empties file input for next import.\n  function handleImportLogo() {\n    let reader = new FileReader();\n    reader.onload = event => setLogo(event.target.result);\n    reader.readAsDataURL(importLogoRef.current.files[0]);\n    importLogoRef.current.value = null;\n  }\n\n  // Erases drawing.\n  function handleErase() {\n    if (window.confirm(\"Are you sure you want to erase this drawing? This cannot be undone.\")) {\n      paper.erase();\n    }\n  }\n\n  // Initializes paper.js. Do this after page finishes loading to ensure that\n  // the responsive canvas is the correct size.\n  useEffect(() => {\n    function initialize() {\n      var newPaper = new Paper();\n      setPaper(newPaper);\n      newPaper.init(canvasRef.current, mode.strokeWidth, setCanvasJSON);\n      setInitialized(true);\n    }\n    if (document.readyState === \"complete\") {\n      initialize();\n    } else {\n      window.addEventListener('load', initialize);\n    }\n  }, [mode.strokeWidth]);\n\n  // Activates tool.\n  useEffect(() => {\n    if (initialized) {\n      paper.activateTool(activeTool.tool, activeTool.props || {}, activeToolColor, activeTool.icon);\n    }\n  }, [initialized, activeTool, activeToolColor, paper]);\n\n  // Tracks whether or not the canvas is changed. Executes onChange prop after\n  // stuff changes. If everything is in its initial state, then send null\n  // values.\n  useEffect(() => {\n    const _changed = initialized && (title || description || !paper.isEmpty());\n    if (onChange) {\n      if (_changed) {\n        onChange(exportData(), canvasRef.current.toDataURL(\"image/png\"), canvasRef.current);\n      } else {\n        onChange(null, null, canvasRef.current);\n      }\n    }\n    setChanged(_changed);\n  }, [initialized, onChange, title, description, exportData]);\n\n  // Imports default data.\n  useEffect(() => {\n    if (initialized) {\n      if (defaultData) {\n        importData(defaultData, paper);\n      }\n      findAndSetActiveVariant(paper, mode);\n    }\n  }, [initialized, defaultData, importData]);\n\n  // Changes background image.\n  useEffect(() => {\n    if (initialized && activeVariant) {\n      paper.setBackground(activeVariant.background, activeVariant.logo, mode.logo, logo, activeVariant.name);\n    }\n  }, [initialized, activeVariant, mode, logo, paper]);\n\n  // Tracks whether or not to show the erase button.\n  useEffect(() => {\n    setShowEraseButton(initialized && !paper.isEmpty());\n  }, [initialized, exportData]);\n\n  // Prompt user before leaving if component's state is changed.\n  useBeforeunload(event => {\n    if (changed && promptBeforeUnload) {\n      return \"Are you sure you want to leave this page? You may lose unsaved changes.\";\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(VariantSwitcher, {\n      mode: mode,\n      activeVariant: activeVariant,\n      onVariantChange: variant => setActiveVariant(variant)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {\n      ratio: mode.ratio,\n      className: \"drill-maker__canvas\",\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        ref: canvasRef,\n        keepalive: \"true\",\n        resize: \"true\",\n        onMouseEnter: () => {\n          paper.setActive && paper.setActive();\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 268,\n      columnNumber: 7\n    }, this), touchDevice && /*#__PURE__*/_jsxDEV(ActiveToolDescription, {\n      className: \"drill-maker__active-tool-description\",\n      children: activeTool.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 272,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Toolbar, {\n      toolbars: mode.toolbars,\n      activeTool: activeTool,\n      onToolChange: tool => setActiveTool(tool),\n      colors: mode.colors,\n      activeToolColor: activeToolColor,\n      onToolColorChange: color => setActiveToolColor(color),\n      onUndo: () => {\n        paper.undo();\n      },\n      onRedo: () => {\n        paper.redo();\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 276,\n      columnNumber: 7\n    }, this), showForm && /*#__PURE__*/_jsxDEV(Form, {\n      className: \"drill-maker__form\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        value: title,\n        onChange: event => setTitle(event.target.value),\n        placeholder: \"Drill Title Here\",\n        className: formInputClass\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 288,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n        value: description,\n        onChange: event => setDescription(event.target.value),\n        placeholder: \"Drill description here\",\n        className: formInputClass,\n        rows: \"4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 9\n    }, this), (showDownloadButtons || showExportImportButtons || showEraseButton) && /*#__PURE__*/_jsxDEV(Actions, {\n      className: \"drill-maker__actions\",\n      children: [showDownloadButtons && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDownloadImage,\n          type: \"button\",\n          className: buttonClass,\n          children: \"Download PNG\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleDownloadPDF,\n          type: \"button\",\n          className: buttonClass,\n          children: \"Download PDF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), showExportImportButtons && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleExport,\n          type: \"button\",\n          className: buttonClass,\n          children: \"Export\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ImportInput, {\n          ref: importDataRef,\n          type: \"file\",\n          accept: \"application/json\",\n          id: \"drill-maker-import-data\",\n          onChange: handleImportData\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: buttonClass,\n          htmlFor: \"drill-maker-import-data\",\n          children: \"Import\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(ImportInput, {\n          ref: importLogoRef,\n          type: \"file\",\n          accept: \"image/*\",\n          id: \"drill-maker-import-logo\",\n          onChange: handleImportLogo\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 331,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          className: buttonClass,\n          htmlFor: \"drill-maker-import-logo\",\n          children: \"Import Logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true), showEraseButton && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleErase,\n        type: \"button\",\n        className: buttonClass,\n        children: \"Erase Drawing\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s(App, \"2bhTrzLInGQwyLUbSItVWonII4A=\", false, function () {\n  return [useBeforeunload];\n});\n_c = App;\nconst Canvas = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n  padding: 0;\n  overflow: hidden;\n  margin-bottom: 16px;\n\n  &:before {\n    display: block;\n    content: \"\";\n    padding-top: ${props => props.ratio * 100}%;\n  }\n\n  canvas {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border: 0;\n  }\n`;\n_c2 = Canvas;\nconst Form = styled.div`\n  margin-top: 16px;\n\n  input, textarea {\n    margin-bottom: 16px;\n  }\n`;\n_c3 = Form;\nconst ActiveToolDescription = styled.div`\n  text-align: center;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 16px;\n  line-height: 20px;\n  margin-bottom: 8px;\n`;\n_c4 = ActiveToolDescription;\nconst Actions = styled.div`\n  margin-top: 12px;\n  text-align: center;\n\n  button, label {\n    margin: 8px 4px 0;\n  }\n`;\n_c5 = Actions;\nconst ImportInput = styled.input`\n  visibility: hidden;\n  width: 0;\n  height: 0;\n`;\n_c6 = ImportInput;\nexport default App;\nvar _c, _c2, _c3, _c4, _c5, _c6;\n$RefreshReg$(_c, \"App\");\n$RefreshReg$(_c2, \"Canvas\");\n$RefreshReg$(_c3, \"Form\");\n$RefreshReg$(_c4, \"ActiveToolDescription\");\n$RefreshReg$(_c5, \"Actions\");\n$RefreshReg$(_c6, \"ImportInput\");","map":{"version":3,"names":["useRef","useState","useEffect","useCallback","styled","jsPDF","useBeforeunload","Paper","VariantSwitcher","Toolbar","jsxDEV","_jsxDEV","Fragment","_Fragment","App","mode","showForm","showDownloadButtons","showExportImportButtons","formInputClass","buttonClass","onChange","defaultData","defaultLogo","promptBeforeUnload","_s","canvasRef","importDataRef","importLogoRef","initialized","setInitialized","current","activeVariant","setActiveVariant","activeTool","setActiveTool","toolbars","activeToolColor","setActiveToolColor","canvasJSON","setCanvasJSON","title","setTitle","description","setDescription","changed","setChanged","showEraseButton","setShowEraseButton","logo","setLogo","touchDevice","window","paper","setPaper","exportData","canvas","importData","json","_canvas","imported","JSON","parse","_paper","importJSON","stringify","findAndSetActiveVariant","_build","_mode","variant","findActiveVariant","variants","handleDownloadImage","link","document","createElement","download","href","toDataURL","click","handleDownloadPDF","paperWidth","paperHeight","margin","contentWidth","ppi","logoHeight","titleFontSize","subheadingFontSize","descriptionFontSize","footerFontSize","underlineHeight","workingY","doc","orientation","unit","format","addImage","pdf","setFontSize","text","splitTextToSize","baseline","setLineWidth","setDrawColor","line","imageHeight","ratio","lineHeightFactor","footer","align","save","handleExport","encodeURIComponent","handleImportData","reader","FileReader","onload","event","target","result","readAsText","files","value","handleImportLogo","readAsDataURL","handleErase","confirm","erase","initialize","newPaper","init","strokeWidth","readyState","addEventListener","activateTool","tool","props","icon","_changed","isEmpty","setBackground","background","name","children","onVariantChange","fileName","_jsxFileName","lineNumber","columnNumber","Canvas","className","ref","keepalive","resize","onMouseEnter","setActive","ActiveToolDescription","onToolChange","colors","onToolColorChange","color","onUndo","undo","onRedo","redo","Form","type","placeholder","rows","Actions","onClick","ImportInput","accept","id","htmlFor","_c","div","_c2","_c3","_c4","_c5","input","_c6","$RefreshReg$"],"sources":["C:/Users/nilss/Desktop/Drill Maker/20241211-IHS-Drill-Maker/drill-maker/src/App.js"],"sourcesContent":["import { useRef, useState, useEffect, useCallback } from \"react\"\nimport styled from \"styled-components\"\nimport jsPDF from \"jspdf\"\nimport { useBeforeunload } from \"react-beforeunload\"\nimport Paper from \"./paper.js\"\nimport VariantSwitcher from \"./VariantSwitcher\"\nimport Toolbar from \"./Toolbar\"\n\nfunction App({\n  mode,\n  showForm,\n  showDownloadButtons,\n  showExportImportButtons,\n  formInputClass,\n  buttonClass,\n  onChange,\n  defaultData,\n  defaultLogo,\n  promptBeforeUnload,\n}) {\n  const canvasRef = useRef()\n  const importDataRef = useRef()\n  const importLogoRef = useRef()\n  const [initialized, setInitialized] = useState(canvasRef.current)\n  const [activeVariant, setActiveVariant] = useState()\n  const [activeTool, setActiveTool] = useState(mode.toolbars[0][0])\n  const [activeToolColor, setActiveToolColor] = useState(\"black\")\n  const [canvasJSON, setCanvasJSON] = useState()\n  const [title, setTitle] = useState(\"\")\n  const [description, setDescription] = useState(\"\")\n  const [changed, setChanged] = useState(false)\n  const [showEraseButton, setShowEraseButton] = useState(false)\n  const [logo, setLogo] = useState(defaultLogo)\n  const touchDevice = \"ontouchstart\" in window\n  const [paper, setPaper] = useState({})\n\n  // Exports title, description, and canvas data as JSON.\n  const exportData = useCallback(() => {\n    return {\n      title: title,\n      description: description,\n      canvas: canvasJSON,\n    }\n  }, [title, description, canvasJSON])\n\n  // Imports title, description, and canvas data from JSON.\n  const importData = useCallback((json, _canvas) => {\n    const imported = JSON.parse(json)\n    const _paper = _canvas || paper\n\n    setTitle(imported.title)\n    setDescription(imported.description)\n\n    if (_paper.importJSON) {\n      _paper.importJSON(JSON.stringify(imported.canvas))\n    }\n  }, [])\n\n  // Find and set active variant.\n  const findAndSetActiveVariant = useCallback((_canvas, _build) => {\n    const _paper = _canvas || paper\n    const _mode = _build || mode\n\n    let variant = _paper.findActiveVariant(_mode.variants);\n    if (variant) {\n      setActiveVariant(variant)\n    }\n  }, [])\n\n  // Downloads PNG.\n  function handleDownloadImage() {\n    let link = document.createElement(\"a\")\n    link.download = (title || \"Drill\") + \".png\"\n    link.href = canvasRef.current.toDataURL(\"image/png\")\n    link.click()\n    setChanged(false)\n  }\n\n  // Downloads PDF. Letter document is 8.5\"x11\", 72ppi (points per inch).\n  // Fonts measured in points. X and Y measured in inches.\n  function handleDownloadPDF() {\n    const paperWidth = 8.5\n    const paperHeight = 11\n    const margin = .75\n    const contentWidth = paperWidth - margin - margin\n    const ppi = 72\n    const logoHeight = 1\n    const titleFontSize = 24\n    const subheadingFontSize = 16\n    const descriptionFontSize = 10\n    const footerFontSize = 10\n    const underlineHeight = 2 / ppi\n    let workingY = .5\n\n    const doc = new jsPDF({\n      orientation: \"p\",\n      unit: \"in\",\n      format: \"letter\",\n    })\n\n    // Logo.\n    doc.addImage(mode.pdf.logo, paperWidth - margin - logoHeight, workingY, logoHeight, logoHeight)\n    workingY += logoHeight + .25\n\n    // Title section.\n    if (title) {\n      // Title.\n      doc.setFontSize(titleFontSize)\n      doc.text(doc.splitTextToSize(title, contentWidth), margin, workingY, {\n        baseline: \"top\",\n      })\n      workingY += (titleFontSize / ppi) + (5 / ppi)\n\n      // Title underline.\n      doc.setLineWidth(underlineHeight)\n      doc.setDrawColor(37, 62, 86)\n      doc.line(margin, workingY, paperWidth - margin, workingY)\n      workingY += underlineHeight + .25\n    }\n\n    // Canvas image.\n    const imageHeight = contentWidth * mode.ratio\n    doc.addImage(canvasRef.current, \"PNG\", margin, workingY, contentWidth, imageHeight)\n    workingY += imageHeight + .25\n\n    // Description section.\n    if (description) {\n      // Subheading.\n      doc.setFontSize(subheadingFontSize)\n      doc.text(\"Description\", margin, workingY, {\n        baseline: \"top\",\n      })\n      workingY += (subheadingFontSize / ppi) + (5 / ppi)\n\n      // Subheading underline.\n      doc.setLineWidth(underlineHeight)\n      doc.setDrawColor(37, 62, 86)\n      doc.line(margin, workingY, paperWidth - margin, workingY)\n      workingY += underlineHeight + .25\n\n      // Description.\n      doc.setFontSize(descriptionFontSize)\n      doc.text(doc.splitTextToSize(description, contentWidth), margin, workingY, {\n        baseline: \"top\",\n        lineHeightFactor: 1.4,\n      })\n    }\n\n    // Footer.\n    doc.setFontSize(footerFontSize)\n    doc.text(mode.pdf.footer, paperWidth / 2, paperHeight - margin, {\n      baseline: \"bottom\",\n      align: \"center\",\n    })\n\n    doc.save((title || \"Drill\") + \".pdf\")\n    setChanged(false)\n  }\n\n  // Downloads JSON.\n  function handleExport() {\n    let link = document.createElement(\"a\")\n    link.download = (title || \"Drill\") + \".json\"\n    link.href = \"data:application/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(exportData()))\n    link.click()\n    setChanged(false)\n  }\n\n  // Imports JSON data and empties file input for next import.\n  function handleImportData() {\n    let reader = new FileReader()\n    reader.onload = event => importData(event.target.result)\n    reader.readAsText(importDataRef.current.files[0])\n    importDataRef.current.value = null\n  }\n\n  // Imports logo image and empties file input for next import.\n  function handleImportLogo() {\n    let reader = new FileReader()\n    reader.onload = event => setLogo(event.target.result)\n    reader.readAsDataURL(importLogoRef.current.files[0])\n    importLogoRef.current.value = null\n  }\n\n  // Erases drawing.\n  function handleErase() {\n    if (window.confirm(\"Are you sure you want to erase this drawing? This cannot be undone.\")) {\n      paper.erase()\n    }\n  }\n\n  // Initializes paper.js. Do this after page finishes loading to ensure that\n  // the responsive canvas is the correct size.\n  useEffect(() => {\n    function initialize() {\n      var newPaper = new Paper();\n      setPaper(newPaper);\n      newPaper.init(canvasRef.current, mode.strokeWidth, setCanvasJSON)\n      setInitialized(true)\n    }\n    if (document.readyState === \"complete\") {\n      initialize()\n    }\n    else {\n      window.addEventListener('load', initialize)\n    }\n  }, [mode.strokeWidth])\n\n  // Activates tool.\n  useEffect(() => {\n    if (initialized) {\n      paper.activateTool(activeTool.tool, activeTool.props || {}, activeToolColor, activeTool.icon)\n    }\n  }, [initialized, activeTool, activeToolColor, paper])\n\n  // Tracks whether or not the canvas is changed. Executes onChange prop after\n  // stuff changes. If everything is in its initial state, then send null\n  // values.\n  useEffect(() => {\n    const _changed = initialized && (title || description || !paper.isEmpty())\n    if (onChange) {\n      if (_changed) {\n        onChange(exportData(), canvasRef.current.toDataURL(\"image/png\"), canvasRef.current)\n      }\n      else {\n        onChange(null, null, canvasRef.current)\n      }\n    }\n    setChanged(_changed)\n  }, [initialized, onChange, title, description, exportData])\n\n  // Imports default data.\n  useEffect(() => {\n    if (initialized) {\n      if (defaultData) {\n        importData(defaultData, paper)\n      }\n      findAndSetActiveVariant(paper, mode)\n    }\n  }, [initialized, defaultData, importData])\n\n  // Changes background image.\n  useEffect(() => {\n    if (initialized && activeVariant) {\n      paper.setBackground(activeVariant.background, activeVariant.logo, mode.logo, logo, activeVariant.name)\n    }\n  }, [initialized, activeVariant, mode, logo, paper])\n\n  // Tracks whether or not to show the erase button.\n  useEffect(() => {\n    setShowEraseButton(initialized && !paper.isEmpty())\n  }, [initialized, exportData])\n\n  // Prompt user before leaving if component's state is changed.\n  useBeforeunload(event => {\n    if (changed && promptBeforeUnload) {\n      return \"Are you sure you want to leave this page? You may lose unsaved changes.\"\n    }\n  })\n\n  return (\n    <>\n      <VariantSwitcher\n        mode={mode}\n        activeVariant={activeVariant}\n        onVariantChange={variant => setActiveVariant(variant)}\n      />\n      <Canvas ratio={mode.ratio} className=\"drill-maker__canvas\">\n        <canvas ref={canvasRef} keepalive=\"true\" resize=\"true\" onMouseEnter={() => { paper.setActive && paper.setActive() }}></canvas>\n      </Canvas>\n      {touchDevice &&\n        <ActiveToolDescription className=\"drill-maker__active-tool-description\">\n          {activeTool.name}\n        </ActiveToolDescription>\n      }\n      <Toolbar\n        toolbars={mode.toolbars}\n        activeTool={activeTool}\n        onToolChange={tool => setActiveTool(tool)}\n        colors={mode.colors}\n        activeToolColor={activeToolColor}\n        onToolColorChange={color => setActiveToolColor(color)}\n        onUndo={() => { paper.undo() }}\n        onRedo={() => { paper.redo() }}\n      />\n      {showForm &&\n        <Form className=\"drill-maker__form\">\n          <input\n            type=\"text\"\n            value={title}\n            onChange={event => setTitle(event.target.value)}\n            placeholder=\"Drill Title Here\"\n            className={formInputClass}\n          />\n          <textarea\n            value={description}\n            onChange={event => setDescription(event.target.value)}\n            placeholder=\"Drill description here\"\n            className={formInputClass}\n            rows=\"4\"\n          ></textarea>\n        </Form>\n      }\n      {(showDownloadButtons || showExportImportButtons || showEraseButton) &&\n        <Actions className=\"drill-maker__actions\">\n          {showDownloadButtons &&\n            <>\n              <button onClick={handleDownloadImage} type=\"button\" className={buttonClass}>\n                Download PNG\n              </button>\n              <button onClick={handleDownloadPDF} type=\"button\" className={buttonClass}>\n                Download PDF\n              </button>\n            </>\n          }\n          {showExportImportButtons &&\n            <>\n              <button onClick={handleExport} type=\"button\" className={buttonClass}>\n                Export\n              </button>\n              <ImportInput\n                ref={importDataRef}\n                type=\"file\"\n                accept=\"application/json\"\n                id=\"drill-maker-import-data\"\n                onChange={handleImportData}\n              />\n              <label className={buttonClass} htmlFor=\"drill-maker-import-data\">\n                Import\n              </label>\n              <ImportInput\n                ref={importLogoRef}\n                type=\"file\"\n                accept=\"image/*\"\n                id=\"drill-maker-import-logo\"\n                onChange={handleImportLogo}\n              />\n              <label className={buttonClass} htmlFor=\"drill-maker-import-logo\">\n                Import Logo\n              </label>\n            </>\n          }\n          {showEraseButton &&\n            <button onClick={handleErase} type=\"button\" className={buttonClass}>\n              Erase Drawing\n            </button>\n          }\n        </Actions>\n      }\n    </>\n  )\n}\n\nconst Canvas = styled.div`\n  position: relative;\n  display: block;\n  width: 100%;\n  padding: 0;\n  overflow: hidden;\n  margin-bottom: 16px;\n\n  &:before {\n    display: block;\n    content: \"\";\n    padding-top: ${props => props.ratio * 100}%;\n  }\n\n  canvas {\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border: 0;\n  }\n`\n\nconst Form = styled.div`\n  margin-top: 16px;\n\n  input, textarea {\n    margin-bottom: 16px;\n  }\n`\n\nconst ActiveToolDescription = styled.div`\n  text-align: center;\n  font-family: Roboto, Arial, sans-serif;\n  font-size: 16px;\n  line-height: 20px;\n  margin-bottom: 8px;\n`\n\nconst Actions = styled.div`\n  margin-top: 12px;\n  text-align: center;\n\n  button, label {\n    margin: 8px 4px 0;\n  }\n`\n\nconst ImportInput = styled.input`\n  visibility: hidden;\n  width: 0;\n  height: 0;\n`\n\nexport default App\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}